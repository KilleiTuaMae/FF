import{e as l}from"./chunk-MVW6VEH7.js";import{e as a}from"./chunk-JHI3MBHO.js";var u=(()=>{let r=class r{constructor(){this.USERS_KEY="ff_users_v1",this.LOGGED_KEY="ff_logged_v1"}register(e){return a(this,null,function*(){let t=localStorage.getItem(this.USERS_KEY),s=t?JSON.parse(t):[];return s.find(n=>n.username===e.username||n.email===e.email)?!1:(s.push(e),localStorage.setItem(this.USERS_KEY,JSON.stringify(s)),localStorage.setItem(this.LOGGED_KEY,JSON.stringify({username:e.username,nome:e.nome,idade:e.idade,email:e.email})),!0)})}login(e,t){return a(this,null,function*(){let s=localStorage.getItem(this.USERS_KEY);if(!s)return!1;let o=JSON.parse(s).find(m=>m.username===e&&m.password===t);return o?(localStorage.setItem(this.LOGGED_KEY,JSON.stringify({username:o.username,nome:o.nome,idade:o.idade,email:o.email})),!0):!1})}logout(){localStorage.removeItem(this.LOGGED_KEY)}isAuthenticated(){return!!localStorage.getItem(this.LOGGED_KEY)}getLoggedUser(){let e=localStorage.getItem(this.LOGGED_KEY);if(!e)return{nome:"",idade:0};try{let t=JSON.parse(e);return{nome:t.nome||"",idade:t.idade||0}}catch{return{nome:"",idade:0}}}};r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=l({token:r,factory:r.\u0275fac,providedIn:"root"});let i=r;return i})();export{u as a};
